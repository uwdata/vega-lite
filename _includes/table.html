<table>
  <thead>
    <tr>
      <th style="text-align: left">Property</th>
      <th style="text-align: center">Type</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    {% assign schema = site.data.vega-lite-schema.definitions[include.source].properties %}

    {% assign props = include.props | split: ","  %}
    {% for prop in props %}
      <!--extract type-->
      {% assign source = schema[prop] %}
      {% capture type %}
        {% include type.html src=source %}
      {% endcapture %}

      <!--extract description-->
      {% assign src=schema[prop] %}
      {% capture description %}
        {% include description.html source=src %}
      {% endcapture %}

      <!--check if prop is a link.-->
      {% capture propWithLink %}
          {% include checkLink.html check="prop" channel=include.source param=prop %}
      {% endcapture %}

      <!--check if type is a link.-->
      {% capture typeWithLink %}
        {% include checkLink.html check="type" channel=include.source param=type %}
      {% endcapture %}

      <tr>
        <td style="text-align: left">{{propWithLink}}</td>
        <td style="text-align: center">{{typeWithLink}}</td>
        <td style="text-align: left">{{description}}</td>
      </tr>
    {% endfor %}
  </tbody>
</table>
